project:
  artifactId: e-wall
  name: e-Wall
  description: Application used by EMSE

info:
  build:
    artifact: ${project.artifactId}
    name: ${project.name}
    description: ${project.description}
  app:
    name: ${project.name}

ewall:
  baseurl: ${EMSE_EW_BASEURL:http://localhost:8080}
  qrcode:
    path: ${EMSE_EW_QRCODE_PATH:/tmp}
    url: ${EMSE_EW_QRCODE_PREFIX_URL:http://www.emse.fr/ew}
    margin: 6
    locked: true
ldap:
  todefine: url

spring:
  datasource:
    driver-class-name: ${EMSE_EW_DATABASE_DRIVER:com.mysql.jdbc.Driver}
    url: jdbc:mysql://${EMSE_EW_DATABASE_HOST:localhost}:${EMSE_EW_DATABASE_PORT:3306}/${EMSE_EW_DATABASE_SCHEMA:ewall}
    username: ${EMSE_EW_DATABASE_USERNAME:ewall}
    password: ${EMSE_EW_DATABASE_PASSWORD:ewall}
    max-wait: 10
  jpa :
    ddl-auto : validate
    hibernate.naming_strategy : org.hibernate.cfg.EJB3NamingStrategy
    database-platform : org.hibernate.dialect.MySQL5InnoDBDialect
    testOnBorrow : true
    validationQuery : SELECT 1
  resources:
    chain:
      strategy:
        content:
          enabled: true
          paths: /**

cas:
  server-url-prefix: ${EMSE_EW_CAS_URL:https://cas.emse.fr}
  server-login-url: ${EMSE_EW_CAS_LOGIN:https://cas.emse.fr/login}
  client-host-url: ${ewall.baseurl}
  redirectAfterValidation: true
  authenticationUrlPatterns: /api/secured/*, /monitoring/*

management:
  context-path: /monitoring

---
spring:
  profiles: default

---
spring:
  profiles: server
